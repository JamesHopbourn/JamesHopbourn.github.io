<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.staticfile.org/jquery/3.6.0/jquery.js"></script>
    <script src="https://cdn.staticfile.org/html2canvas/0.5.0-beta4/html2canvas.js"></script>
    <style>
      #title {
        text-align: center;
        font-size: 22px;
      }

      #button-pref {
        margin-top: 10px;
        margin-bottom: 20px;
        text-align: center;
      }
    </style>
    <script>
      window.onload = () => {
        document.title = "成绩查询";
        setData('data/overall.json')
      }

      function setData(url){
        $("tbody").empty();
        $.getJSON(url, result => {
          text = [];
          text.push("<tr>");
          text.push("<th>排名</th>");
          text.push("<th>名字</th>");
          text.push("<th>性别</th>");
          text.push("<th>计时时间</th>");
          text.push("<th>配速</th>");
          text.push("</tr>");
          for (let index = 0; index < result.length; index++) {
            data = result[index];
            text.push("<tr>")
            text.push(`<td>${index}</td>`)
            text.push(`<td><a href="./certificate/001.png">${data['name']}</a></td>`)
            text.push(`<td>${data['gender']}</td>`)
            text.push(`<td>${data['time']}</td>`)
            text.push(`<td>${data['pace']}</td>`)
            text.push("</tr>")
          }
          $('tbody').append(text.join("\n"));
        })     
      }
      </script>
</head>
<body>
  <div id="title">2022 特跑族全国 10K 排位赛成绩</div>
  
  <div id="button-pref">
    <button onclick="setData('data/overall.json')">全体排名</button>
    <button onclick="setData('data/man.json')">男子排名</button>
    <button onclick="setData('data/woman.json')">女子排名</button>
  </div>

  <table>
    <tr>
    </tr>
  </table>
</body>
</html>
